FROM python:3.11-slim
ENV DEBIAN_FRONTEND=noninteractive

RUN apt-get update && apt-get install -y \
    git curl build-essential \
 && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace

# requisitos.txt debe estar en la ra√≠z del repo
COPY requisitos.txt /workspace/requisitos.txt
RUN pip install --no-cache-dir -r /workspace/requisitos.txt

# (opcional si no viene en requisitos.txt)
RUN pip install --no-cache-dir apache-beam[gcp]==2.57.0

CMD ["bash"]
